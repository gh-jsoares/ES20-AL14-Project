# ES20 P3 submission, Group 14


---

## Feature TDP

### Subgroup

 - Alexandre Duarte, 89403, alexduarte23
   + Issues assigned: [#196](https://github.com/tecnico-softeng/es20al_14-project/issues/196), [#197](https://github.com/tecnico-softeng/es20al_14-project/issues/197), [#205](https://github.com/tecnico-softeng/es20al_14-project/issues/205), [#198](https://github.com/tecnico-softeng/es20al_14-project/issues/198), [#191](https://github.com/tecnico-softeng/es20al_14-project/issues/191), [#235](https://github.com/tecnico-softeng/es20al_14-project/issues/235), [#190](https://github.com/tecnico-softeng/es20al_14-project/issues/190)
 - Daniel Lopes, 89426, DFL13
   + Issues assigned: [#189](https://github.com/tecnico-softeng/es20al_14-project/issues/189), [#190](https://github.com/tecnico-softeng/es20al_14-project/issues/190), [#195](https://github.com/tecnico-softeng/es20al_14-project/issues/195), [#199](https://github.com/tecnico-softeng/es20al_14-project/issues/199), [#200](https://github.com/tecnico-softeng/es20al_14-project/issues/200), [#242](https://github.com/tecnico-softeng/es20al_14-project/issues/242), [#188](https://github.com/tecnico-softeng/es20al_14-project/issues/188)
 
### Pull requests associated with this feature

The list of pull requests associated with this feature is:

 - [PR #237 - open](https://github.com/tecnico-softeng/es20al_14-project/pull/237)
 - [PR #243 - create](https://github.com/tecnico-softeng/es20al_14-project/pull/243)
 - [PR #253 - enroll](https://github.com/tecnico-softeng/es20al_14-project/pull/253)


### Frontend

#### New/Updated Views

 - [open/enroll View](https://github.com/tecnico-softeng/es20al_14-project/blob/230fe0796bd8c6000b40653c0bad3f6cdc160380/frontend/src/views/student/tournament/OpenTournamentsView.vue)
 - [create View](https://github.com/tecnico-softeng/es20al_14-project/blob/230fe0796bd8c6000b40653c0bad3f6cdc160380/frontend/src/views/student/tournament/CreateTournamentView.vue)


#### New/Updated Models

 - [Tournament Model](https://github.com/tecnico-softeng/es20al_14-project/blob/230fe0796bd8c6000b40653c0bad3f6cdc160380/frontend/src/models/management/Tournament.ts)

### Additional services implemented

 (none)

### End-to-end tests

To run these tests firstly you need to copy the file `cypress.env.json.example` and rename it to `cypress.env.json` and then you need to change the values inside this file to the ones of your database. 

`Note: User needs to have a password in the database in order to work properly`

#### Created tests

 - Create:
   - [Create tournament successfully](https://github.com/tecnico-softeng/es20al_14-project/blob/230fe0796bd8c6000b40653c0bad3f6cdc160380/frontend/tests/e2e/specs/tournament/createTournamentTest.js#L17)
   - [Try to create tournament with missing required fields](https://github.com/tecnico-softeng/es20al_14-project/blob/230fe0796bd8c6000b40653c0bad3f6cdc160380/frontend/tests/e2e/specs/tournament/createTournamentTest.js#L25)
   - [Try to create tournament with start before now](https://github.com/tecnico-softeng/es20al_14-project/blob/230fe0796bd8c6000b40653c0bad3f6cdc160380/frontend/tests/e2e/specs/tournament/createTournamentTest.js#L33)
   - [Try to create tournament with end before start](https://github.com/tecnico-softeng/es20al_14-project/blob/230fe0796bd8c6000b40653c0bad3f6cdc160380/frontend/tests/e2e/specs/tournament/createTournamentTest.js#L41)
 - Open:
   - [Check if only open tournaments appear](https://github.com/tecnico-softeng/es20al_14-project/blob/230fe0796bd8c6000b40653c0bad3f6cdc160380/frontend/tests/e2e/specs/tournament/openTournamentsTest.js#L25)
   - [Search with partial title hides some tournaments](https://github.com/tecnico-softeng/es20al_14-project/blob/230fe0796bd8c6000b40653c0bad3f6cdc160380/frontend/tests/e2e/specs/tournament/openTournamentsTest.js#L35)
   - [Search with full title shows right tournament](https://github.com/tecnico-softeng/es20al_14-project/blob/230fe0796bd8c6000b40653c0bad3f6cdc160380/frontend/tests/e2e/specs/tournament/openTournamentsTest.js#L45)
   - [Search with non-matching title shows no tournaments](https://github.com/tecnico-softeng/es20al_14-project/blob/230fe0796bd8c6000b40653c0bad3f6cdc160380/frontend/tests/e2e/specs/tournament/openTournamentsTest.js#L55)
 - Enroll:
   - [Enroll in tournament successfully](https://github.com/tecnico-softeng/es20al_14-project/blob/230fe0796bd8c6000b40653c0bad3f6cdc160380/frontend/tests/e2e/specs/tournament/enrollTournament.js#L24)
   - [Try to enroll in tournament when tournament has started](https://github.com/tecnico-softeng/es20al_14-project/blob/230fe0796bd8c6000b40653c0bad3f6cdc160380/frontend/tests/e2e/specs/tournament/enrollTournament.js#L32)

#### Rationale
 - Create tournament: The chosen tests confirm the student can successfully create tournaments and that the users are given correct alerts regarding invalid input and successful creation.

 - Open tournaments: The tests verify that only open tournaments are shown to the users and when using the search bar the expected outcome is encountered.

 - Tournament enroll: Confirms the students can successfully enroll and are not given permition to reenroll again on the same tournament or to enroll in the ones already started.

#### Commands defined

 - [commands.js (group shared)](https://github.com/tecnico-softeng/es20al_14-project/blob/230fe0796bd8c6000b40653c0bad3f6cdc160380/frontend/tests/e2e/support/commands.js)
 - [database.js (group shared)](https://github.com/tecnico-softeng/es20al_14-project/blob/230fe0796bd8c6000b40653c0bad3f6cdc160380/frontend/tests/e2e/support/database.js)
 - [tournamentCommands.js](https://github.com/tecnico-softeng/es20al_14-project/blob/230fe0796bd8c6000b40653c0bad3f6cdc160380/frontend/tests/e2e/support/tournament/tournamentCommands.js)
 
 - ##### Fixtures
   - [openTournamentData.json](https://github.com/tecnico-softeng/es20al_14-project/blob/230fe0796bd8c6000b40653c0bad3f6cdc160380/frontend/tests/e2e/fixtures/openTournamentData.json)
 
 - ##### DB Queries
   - [openTournamentsSetup.sql](https://github.com/tecnico-softeng/es20al_14-project/blob/230fe0796bd8c6000b40653c0bad3f6cdc160380/frontend/tests/e2e/support/tournament/openTournamentsSetup.sql)
   - [openTournamentsCleanup.sql](https://github.com/tecnico-softeng/es20al_14-project/blob/230fe0796bd8c6000b40653c0bad3f6cdc160380/frontend/tests/e2e/support/tournament/openTournamentsCleanup.sql)
   - [enrollTournamentSetup.sql](https://github.com/tecnico-softeng/es20al_14-project/blob/230fe0796bd8c6000b40653c0bad3f6cdc160380/frontend/tests/e2e/support/tournament/enrollTournamentSetup.sql)
   - [enrollTournamentCleanup.sql](https://github.com/tecnico-softeng/es20al_14-project/blob/230fe0796bd8c6000b40653c0bad3f6cdc160380/frontend/tests/e2e/support/tournament/enrollTournamentCleanup.sql)
 
#### Screenshot of test results overview

![Test results - create](p3-images/p3_tdp_cypressCreateTournament.png)
![Test results - open](p3-images/p3_tdp_cypressOpenTournaments.png)
![Test results - enroll](p3-images/p3_tdp_cypressTournamentEnroll.png)
